# SVV网页版测试指南

## 🧪 测试清单

### 基础功能测试

#### 1. 页面导航测试
- [ ] 登录系统成功
- [ ] Dashboard → 眼部检查页面导航正常
- [ ] 点击"开始SVV检查"跳转到SVV检查页面
- [ ] 返回按钮功能正常

#### 2. SVV Canvas绘制测试
- [ ] Canvas正常显示（800×800像素）
- [ ] 参考圆盘和刻度正确绘制
- [ ] 3D渐变线条显示正常
- [ ] 角度信息实时更新

#### 3. 交互功能测试

**鼠标操作**：
- [ ] 单击Canvas实现极微调（+0.001°）
- [ ] 双击Canvas固定线条
- [ ] 鼠标滚轮实现精细微调（±0.1°）

**键盘快捷键**：
- [ ] ← 键：顺时针自动旋转
- [ ] → 键：逆时针自动旋转  
- [ ] ↑ 键：保存当前结果
- [ ] ↓ 键：停止旋转

**按钮控制**：
- [ ] 顺时针/逆时针旋转按钮
- [ ] 微调按钮功能
- [ ] 停止旋转按钮
- [ ] 显示/隐藏参考盘切换

#### 4. 数据管理测试
- [ ] 保存结果功能正常
- [ ] 角度计算准确（X轴、Y轴夹角）
- [ ] 患者信息输入对话框
- [ ] 结果导出为TXT文件
- [ ] 新病人功能重置数据

#### 5. 界面响应性测试
- [ ] 不同分辨率下显示正常
- [ ] 移动端浏览器兼容
- [ ] 角度显示实时更新
- [ ] 状态指示器正确显示

## 🔧 测试步骤

### 完整测试流程

#### 步骤1：登录和导航
```
1. 打开 http://localhost:3000
2. 使用测试账号登录（admin/admin）
3. 点击Dashboard中的"眼部检查"
4. 验证页面正常显示
5. 点击"开始SVV检查"
6. 验证跳转到SVV检查页面
```

#### 步骤2：基础绘制测试
```
1. 检查Canvas是否正常显示
2. 确认显示800×800像素的白色画布
3. 验证圆形参考盘和绿色/黑色刻度
4. 确认中央有3D渐变线条
5. 检查顶部角度信息显示
```

#### 步骤3：交互功能测试
```
1. 鼠标测试：
   - 单击画布，观察线条微小变化
   - 双击画布，确认线条固定
   - 使用鼠标滚轮，观察精细调整

2. 键盘测试：
   - 按左箭头键，确认顺时针旋转
   - 按右箭头键，确认逆时针旋转
   - 按下箭头键，确认旋转停止
   - 按上箭头键，确认保存功能

3. 按钮测试：
   - 点击各个控制按钮
   - 验证按钮状态变化
   - 测试按钮禁用状态
```

#### 步骤4：数据功能测试
```
1. 进行几次角度调整
2. 点击"保存结果"多次
3. 点击"导出结果"
4. 填写患者信息：
   - 姓名：测试患者
   - 日期：2025-08-02
   - MRN：TEST001
5. 确认导出TXT文件
6. 验证文件内容正确
```

## 📋 预期结果

### 正常表现
1. **启动速度**：页面立即加载，无延迟
2. **视觉效果**：流畅的3D线条和圆盘显示
3. **操作响应**：所有交互即时响应
4. **数据准确**：角度计算精确到0.1°
5. **文件导出**：成功生成包含患者信息的报告

### 性能指标
- **页面加载时间**：< 2秒
- **Canvas渲染帧率**：60 FPS
- **角度计算延迟**：< 10ms
- **浏览器兼容性**：Chrome 80+, Firefox 75+, Safari 13+

## 🐛 常见问题排查

### 问题1：Canvas不显示
**可能原因**：浏览器不支持HTML5 Canvas
**解决方案**：升级浏览器或使用现代浏览器

### 问题2：键盘快捷键不响应
**可能原因**：页面失去焦点
**解决方案**：点击Canvas区域获取焦点

### 问题3：角度计算不准确
**可能原因**：数学计算函数错误
**解决方案**：检查角度转换公式

### 问题4：导出功能失败
**可能原因**：浏览器阻止下载
**解决方案**：检查浏览器下载设置

### 问题5：移动端显示异常
**可能原因**：CSS响应式问题
**解决方案**：调整移动端样式

## ✅ 测试完成标准

### 通过标准
- [ ] 所有基础功能正常工作
- [ ] 交互响应流畅无卡顿
- [ ] 数据计算准确
- [ ] 导出功能完整
- [ ] 跨浏览器兼容
- [ ] 移动端友好

### 性能标准
- [ ] 页面加载 < 2秒
- [ ] 交互延迟 < 100ms
- [ ] 内存使用 < 100MB
- [ ] CPU占用 < 10%

## 📝 测试报告模板

```
SVV网页版测试报告
==================

测试日期：2025-08-02
测试环境：Chrome 120.0 / macOS 14.0
测试人员：[姓名]

功能测试结果：
- 页面导航：✅ 通过
- Canvas绘制：✅ 通过  
- 鼠标操作：✅ 通过
- 键盘快捷键：✅ 通过
- 按钮控制：✅ 通过
- 数据管理：✅ 通过
- 导出功能：✅ 通过

性能测试结果：
- 加载速度：1.2秒 ✅
- 响应延迟：50ms ✅
- 内存占用：75MB ✅

兼容性测试：
- Chrome：✅ 完美支持
- Firefox：✅ 完美支持
- Safari：✅ 完美支持
- 移动端：✅ 良好支持

总体评价：✅ 通过所有测试
建议：可以投入生产使用
```

---

**测试版本**: v2.0.0  
**更新日期**: 2025-08-02  
**测试重点**: 功能完整性和用户体验